@page
@model RazorPagesContacts.Pages.CreateModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Enter race</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="//code.jquery.com/jquery-1.12.4.js"></script>
    <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
</head>
<body>
    <form method="POST">
        <div asp-validation-summary="All"></div>
        @if (Program.Globals.name.name == null)
        {
        <label for="autocomplete">Enter your name: </label>
        <input asp-for="Boats.name" id="autocomplete" />
        <script type="text/javascript">

        $("#autocomplete").autocomplete({
            source: [ '@Html.Raw(string.Join("', '", SQL.GetNames()))' ]
        }
            );

        </script>
        }
        @if (Program.Globals.name.name != null && Program.Globals.name.boatName == null)
        {

        <div>
            <select id="select" asp-for="Boats.boatName">

                @for (int i = 0; i < RazorPagesContacts.Pages.CreateModel.countofboats(); i++)
                {


                    <option value="@RazorPagesContacts.Pages.CreateModel.selectbox(i)">@RazorPagesContacts.Pages.CreateModel.selectbox(i)</option>
                }
            </select>
            <input type="submit"/>
        </div>
        }


        @if (Program.Globals.name.boatName != null)
        {
            if (SQL.GetCrew(Program.Globals.name.boatName.ToUpper()) == 2)
            { Program.Globals.askedCrew = 1;

                    <label for="autocomplete1">If you have a crew, enter their name here: </label>
                    <input asp-for="Boats1.name" id="autocomplete1" />
                    <script type="text/javascript">

        $("#autocomplete1").autocomplete({
                        source: [ '@Html.Raw(string.Join("', '", SQL.GetNames()))' ]
        }
            );


                    </script>

            }
        }

    </form>
    <div><a asp-page="/New Boat">Bought a new boat?</a></div>

</body>
</html>
